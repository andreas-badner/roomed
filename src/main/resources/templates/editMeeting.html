<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{layout/main}">
<body>
<div layout:fragment="content">
    <div class="mt-4 mt-md-5 col-md-4 offset-md-4">
        <h2>Edit Meeting</h2>
        <form th:method="post" th:action="@{/editMeeting/{meeting_id}/confirm(meeting_id=${meeting.getMeetingId()})}" th:object="${meeting}">
            <div class="form-row form-group mt-2">
                <div class="col-12">
                    <i class="fas fa-signature"></i>
                    <label for="name">Name</label>
                    <input class="form-control" type="text" id="name" th:field="*{title}" th:placeholder="${meeting.getTitle()}" th:errorclass="is-invalid">
                    <div class="invalid-feedback" th:errors="*{title}"></div>
                </div>
            </div>
            <div class="form-row form-group">
                <div class="col-8">
                    <i class="fas fa-hourglass-start"></i>
                    <label for="startDate">Start Date</label>
                    <input class="form-control" type="date" id="startDate" th:field="*{startAt}" th:value="${meeting.getStartAt()}" th:errorclass="is-invalid">
                    <div class="invalid-feedback" th:errors="*{startAt}"></div>
                </div>
             <!--   <div class="col-4 align-self-end">
                    <input class="form-control" type="time" id="startTime" th:field="*{startTime}" th:placeholder="${meeting.getEndAt()}" value="now" th:errorclass="is-invalid">
                    <div class="invalid-feedback" th:errors="*{startTime}"></div>
                </div>
                -->
            </div>
            <div class="form-row form-group">
                <div class="col-8">
                    <i class="fas fa-hourglass-end"></i>
                    <label for="endDate">End Date</label>
                    <input class="form-control" type="date" id="endDate" th:field="*{endAt}" th:value="${meeting.getEndAt()}" th:errorclass="is-invalid">
                    <div class="invalid-feedback" th:errors="*{endAt}"></div>
                </div>
              <!--  <div class="col-4 align-self-end">
                    <input class="form-control" type="time" id="endTime" value="now" th:field="*{endTime}" th:errorclass="is-invalid">
                    <div class="invalid-feedback" th:errors="*{endTime}"></div>
                </div>
                -->
            </div>
            <div class="form-row mt-4">
                <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-lg btn-block">Next</button>
                </div>
            </div>
            <div class="form-row mt-3 mb-2">
                <div class="col-12">
                    <a th:href="@{/}" class="btn btn-secondary btn-sm btn-block">Back</a>
                </div>
            </div>
        </form>
    </div>
</div>
<th:block layout:fragment="script">
    <script type="text/javascript">
        $('#locations').on('changed.bs.select', function (e, clickedIndex, isSelected, previousValue) {
            var selected = $(this).find('option').eq(clickedIndex).val();

            if (isSelected) {
                $('.location-' + selected).removeClass("d-none");
            } else {
                $('.location-' + selected).addClass("d-none");
            }
        });
    </script>
</th:block>
</body>
</html>
